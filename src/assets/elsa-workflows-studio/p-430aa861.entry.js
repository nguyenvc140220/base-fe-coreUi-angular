import{r as t,c as e,h as s}from"./p-ee0b9025.js";import{S as i}from"./p-f3f2f442.js";import{p as o}from"./p-6f3ac5fa.js";import{T as p}from"./p-6b50e59c.js";import{g as r}from"./p-8c22d910.js";import"./p-a3b5bd35.js";import"./p-80de33dc.js";import"./p-83f217d4.js";import"./p-4e7382b2.js";import"./p-e0c1fede.js";import"./p-f1ec68ec.js";import"./p-d17a08e5.js";import"./p-9f020d74.js";import"./p-82db2ff5.js";import"./p-949334ec.js";let a=class{constructor(s){t(this,s),this.valueChange=e(this,"valueChange",7),this.selectList={items:[],isFlagsEnum:!1}}async componentWillLoad(){this.currentValue=this.propertyModel.expressions[i.Json]||"[]"}onValueChanged(t){const e=t.map((t=>"string"==typeof t?t:"number"==typeof t||"boolean"==typeof t?t.toString():t.value));this.valueChange.emit(t),this.currentValue=JSON.stringify(e),this.propertyModel.expressions[i.Json]=this.currentValue}onDefaultSyntaxValueChanged(t){this.currentValue=t.detail}createKeyValueOptions(t){return null===t?t:t.map((t=>"string"==typeof t?{text:t,value:t}:t))}async componentWillRender(){this.selectList=await r(this.serverUrl,this.propertyDescriptor)}render(){const t=this.propertyDescriptor,e=this.propertyModel,i=t.name,p=i,r=i,a=o(this.currentValue),n=!!t.options&&t.options.length>0,l=this.createKeyValueOptions(this.selectList.items),d=n?s("elsa-input-tags-dropdown",{dropdownValues:l,values:a,fieldId:p,fieldName:r,onValueChanged:t=>this.onValueChanged(t.detail)}):s("elsa-input-tags",{values:a,fieldId:p,fieldName:r,onValueChanged:t=>this.onValueChanged(t.detail)});return s("elsa-property-editor",{activityModel:this.activityModel,propertyDescriptor:t,propertyModel:e,onDefaultSyntaxValueChanged:t=>this.onDefaultSyntaxValueChanged(t),"single-line":!0},d)}};p.injectProps(a,["serverUrl"]);export{a as elsa_multi_text_property}