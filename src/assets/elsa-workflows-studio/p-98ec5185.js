function t(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))}function e(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var n=new Error("request for lock canceled"),r=function(){function r(t,e){if(void 0===e&&(e=n),this._maxConcurrency=t,this._cancelError=e,this._queue=[],this._waiters=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return r.prototype.acquire=function(){var t=this,e=this.isLocked(),n=new Promise((function(e,n){return t._queue.push({resolve:e,reject:n})}));return e||this._dispatch(),n},r.prototype.runExclusive=function(n){return t(this,void 0,void 0,(function(){var t,r,i;return e(this,(function(e){switch(e.label){case 0:return[4,this.acquire()];case 1:t=e.sent(),r=t[0],i=t[1],e.label=2;case 2:return e.trys.push([2,,4,5]),[4,n(r)];case 3:return[2,e.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},r.prototype.waitForUnlock=function(){return t(this,void 0,void 0,(function(){var t=this;return e(this,(function(){return this.isLocked()?[2,new Promise((function(e){return t._waiters.push({resolve:e})}))]:[2,Promise.resolve()]}))}))},r.prototype.isLocked=function(){return this._value<=0},r.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},r.prototype.cancel=function(){var t=this;this._queue.forEach((function(e){return e.reject(t._cancelError)})),this._queue=[]},r.prototype._dispatch=function(){var t=this,e=this._queue.shift();if(e){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._resolveWaiters(),t._dispatch())},e.resolve([this._value--,this._currentReleaser])}},r.prototype._resolveWaiters=function(){this._waiters.forEach((function(t){return t.resolve()})),this._waiters=[]},r}(),i=function(){function n(t){this._semaphore=new r(1,t)}return n.prototype.acquire=function(){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,t.sent()[1]]}}))}))},n.prototype.runExclusive=function(t){return this._semaphore.runExclusive((function(){return t()}))},n.prototype.isLocked=function(){return this._semaphore.isLocked()},n.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},n.prototype.release=function(){this._semaphore.release()},n.prototype.cancel=function(){return this._semaphore.cancel()},n}();const s=window,o=s.require;var c=[];let u;const a=new i;async function f(t){return await a.runExclusive((async()=>{if(u)return s.monaco;const e=document.location.origin,n=t.startsWith("http")?t:`${e}/${t}`;o.config({paths:{vs:`${n}/vs`}}),s.MonacoEnvironment={getWorkerUrl:()=>r};let r=URL.createObjectURL(new Blob([`\n\tself.MonacoEnvironment = {\n\t\tbaseUrl: '${n}'\n\t};\n\timportScripts('${n}/vs/base/worker/workerMain.js');\n`],{type:"text/javascript"}));return new Promise((t=>{o(["vs/editor/editor.main"],(()=>{var e;u=!0,(e=s.monaco).languages.register({id:"liquid"}),e.languages.registerCompletionItemProvider("liquid",{provideCompletionItems:()=>{const t=[],n=["assign","capture","endcapture","increment","decrement","if","else","elsif","endif","for","endfor","break","continue","limit","offset","range","reversed","cols","case","endcase","when","block","endblock","true","false","in","unless","endunless","cycle","tablerow","endtablerow","contains","startswith","endswith","comment","endcomment","raw","endraw","editable","endentitylist","endentityview","endinclude","endmarker","entitylist","entityview","forloop","image","include","marker","outputcache","plugin","style","text","widget","abs","append","at_least","at_most","capitalize","ceil","compact","concat","date","default","divided_by","downcase","escape","escape_once","first","floor","join","last","lstrip","map","minus","modulo","newline_to_br","plus","prepend","remove","remove_first","replace","replace_first","reverse","round","rstrip","size","slice","sort","sort_natural","split","strip","strip_html","strip_newlines","times","truncate","truncatewords","uniq","upcase","url_decode","url_encode"];for(let r=0;r<n.length;r++)t.push({label:n[r],kind:e.languages.CompletionItemKind.Keyword});return{suggestions:t}}}),function(t){t.languages.registerCompletionItemProvider("sql",{triggerCharacters:["@"],provideCompletionItems:(e,n)=>{e.getWordUntilPosition(n);const r=[];for(const e of c)r.push({label:`${e.variableName}: ${e.type}`,kind:t.languages.CompletionItemKind.Variable,insertText:e.variableName});return{suggestions:r}}})}(s.monaco),t(s.monaco)}))}))}))}export{c as E,f as i}