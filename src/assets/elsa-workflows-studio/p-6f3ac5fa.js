import{c as n}from"./p-a3b5bd35.js";function t(n,t){if(null==t){const t=new Set(n.connections.map((n=>n.targetId)));return n.activities.filter((n=>!t.has(n.activityId)))}{const e=new Set(n.connections.filter((n=>n.sourceId===t)).map((n=>n.targetId)));return n.activities.filter((n=>e.has(n.activityId)))}}function e(n,t){return n.connections.filter((n=>n.targetId===t))}function r(n,t){return n.connections.filter((n=>n.sourceId===t))}function c(n,t){const c=[...e(n,t),...r(n,t)];return Object.assign(Object.assign({},n),{activities:n.activities.filter((n=>n.activityId!=t)),connections:n.connections.filter((n=>c.indexOf(n)<0))})}function o(n,t,e){return Object.assign(Object.assign({},n),{connections:n.connections.filter((n=>!(n.sourceId===t&&n.outcome===e)))})}function s(n,t){return n.activities.find((n=>n.activityId===t))}function u(n,t){return Object.assign(Object.assign({},n),{connections:[...n.connections,t]})}function i(n,t,e,r){!function(n,t,e,r){let c=n.find((n=>n.name==t));if(r||(r="Literal"),c)c.expressions[r]=e,c.syntax=r;else{const o={};o[r]=e,c={name:t,expressions:o,syntax:r},n.push(c)}}(n.properties,t,e,r)}function a(n,t,e,r){let c=n.properties.find((n=>n.name==t));if(!c){const o={};let s=r?r():void 0;s||(s="Literal"),o[s]=e?e():void 0,c={name:t,expressions:o,syntax:null},n.properties.push(c)}return c}function f(n){if(!n)return null;try{return JSON.parse(n)}catch(n){console.warn(`Error parsing JSON: ${n}`)}}function l(n){if(!n)return{};const t={},e=("?"===n[0]?n.substr(1):n).split("&");for(let n=0;n<e.length;n++){const r=e[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return t}function m(t){return n.map(t||{},((n,t)=>`${t}=${n}`)).join("&")}function d(n){switch(n){case"Json":return"json";case"JavaScript":return"javascript";case"Liquid":return"liquid";case"SQL":return"sql";case"Literal":default:return"plaintext"}}function p(n){const t=document.createElement("template");return n=n.trim(),t.innerHTML=n,t.content.firstElementChild}function j(n){const t=p("<textarea/>");return t.textContent=n,t.innerHTML}function b(n){return n?n.asHours()>1?`${n.asHours().toFixed(3)} h`:n.asMinutes()>1?`${n.asMinutes().toFixed(3)} m`:n.asSeconds()>1?`${n.asSeconds().toFixed(3)} s`:`${n.asMilliseconds()} ms`:null}function w(n){const t=document.createRange();t.selectNodeContents(n);const e=window.getSelection();e.removeAllRanges(),e.addRange(t)}async function O(n){for(;null===document.querySelector(n);)await new Promise((n=>requestAnimationFrame(n)));return document.querySelector(n)}Array.prototype.distinct=function(){return[...new Set(this)]},Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});export{p as a,O as b,l as c,w as d,b as e,e as f,a as g,j as h,r as i,s as j,u as k,t as l,d as m,o as n,f as p,m as q,c as r,i as s}