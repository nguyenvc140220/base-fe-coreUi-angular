<div class="card px-4">
  <div class="border-b-1 py-2 row p-d-flex">
    <div class="col-10">
      <p-toast></p-toast>
      <p-steps [model]="items"
               (activeIndexChange)="onActiveIndexChange()"
               [readonly]="false"
               [(activeIndex)]="activeIndex"></p-steps>
    </div>
    <div class="col-2  flex justify-content-end">
      <button
        pButton
        type="button"
        styleClass="p-button-sm"
        style="max-height: 70%"
        (click)="btnCancel()"
        class="p-button-outlined mx-2 text-sm">
        <span class="p-button-label truncate" pTooltip="Huỷ">
          Huỷ
        </span>
      </button>
      <button
        pButton
        style="max-height: 70%"
        (click)="btnSaveOrNext()"
        [disabled]="(!campaignsGeneralForm.valid || !segmentationForm.valid) && activeIndex == 3"
        styleClass="p-button-sm text-sm"
        class="mx-2">
        <span class="p-button-label truncate"
              pTooltip="{{activeIndex != 3 ? 'Tiếp tục' : 'Hoàn tất'}}">
          {{activeIndex != 3 ? 'Tiếp tục' : 'Hoàn tất'}}
        </span>
      </button>
    </div>
    <p-divider></p-divider>
  </div>

  <ng-template [ngIf]="activeIndex === 0">
    <app-campaigns-general-information
      [(activeIndex)]="activeIndex"
      [(campaignsGeneralForm)]="campaignsGeneralForm"
      [(definitionId)]="definitionId"
    ></app-campaigns-general-information>
  </ng-template>

  <ng-template [ngIf]="activeIndex === 1">
    <app-campaigns-contact-data
      [(activeIndex)]="activeIndex"
      [(definitionId)]="definitionId"
      [(segmentationForm)]="segmentationForm"
    >
    </app-campaigns-contact-data>
  </ng-template>

  <ng-template [ngIf]="activeIndex === 2">
    <app-campaigns-configuration
      [(activeIndex)]="activeIndex"
      [(definitionId)]="definitionId">
    </app-campaigns-configuration>
  </ng-template>

  <ng-template [ngIf]="activeIndex === 3">
    <app-campaigns-completed
      [(activeIndex)]="activeIndex"
      [(campaignsGeneralForm)]="campaignsGeneralForm"
      [(totalContactsCount)]="totalContactsCount"
      [(segmentationForm)]="segmentationForm"
    >
    </app-campaigns-completed>
  </ng-template>
</div>
<p-toast autoZIndex="true"></p-toast>

